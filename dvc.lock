schema: '2.0'
stages:
  measure-mind-val:
    cmd: python -m poprox_recommender.evaluation.evaluate
    deps:
    - path: data/MINDlarge_dev.zip
      hash: md5
      md5: c93fa1728e3537649b441c78cce5e6f1
      size: 103456245
    - path: outputs/mind-val-recommendations.parquet
      hash: md5
      md5: ee13aa51c26ca9db3b218ebc117e2d51
      size: 13813085
    - path: src/poprox_recommender/evaluation/evaluate.py
      hash: md5
      md5: e390d73e0bfeaf35e99a832d3b7287e3
      size: 4734
    outs:
    - path: outputs/mind-val-metrics.json
      hash: md5
      md5: a8f56e0e1d51e572077ad45c9f858e3c
      size: 103
    - path: outputs/mind-val-user-metrics.csv.gz
      hash: md5
      md5: f2e3a3c4d3f80c21a703f4440075b726
      size: 8823419
  recommend-mind-val:
    cmd: python -m poprox_recommender.evaluation.generate -o outputs/mind-val-recommendations.parquet
    deps:
    - path: data/MINDlarge_dev.zip
      hash: md5
      md5: c93fa1728e3537649b441c78cce5e6f1
      size: 103456245
    - path: src/poprox_recommender/evaluation/generate.py
      hash: md5
      md5: f3953eb0b0270fa6299b300d98bf23a5
      size: 4396
    outs:
    - path: outputs/mind-val-recommendations.parquet
      hash: md5
      md5: 6b2b610fdf7e7c819b267d8b29e14a73
      size: 13383371
