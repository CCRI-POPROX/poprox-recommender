schema: '2.0'
stages:
  measure-mind-val:
    cmd: python -m poprox_recommender.evaluation.evaluate -M MINDlarge_dev mind-val
    deps:
    - path: data/MINDlarge_dev.zip
      hash: md5
      md5: c93fa1728e3537649b441c78cce5e6f1
      size: 103456245
    - path: outputs/mind-val/recommendations
      hash: md5
      md5: dcc2faa9ba51e8c0fa11a6ee66cdc58d.dir
      size: 44885945
      nfiles: 4
    - path: src/poprox_recommender/evaluation/evaluate.py
      hash: md5
      md5: 1fa966d8dbe31b297e098628e0e05812
      size: 4614
    outs:
    - path: outputs/mind-val/metrics.csv
      hash: md5
      md5: 561ee1cfde489fec032a40ba834dd20e
      size: 398
    - path: outputs/mind-val/profile-metrics.csv.gz
      hash: md5
      md5: 2018c4e3c8408c380d8a6c22098ea0b2
      size: 28056713
  recommend-mind-val:
    cmd: python -m poprox_recommender.evaluation.generate -M MINDlarge_dev -o outputs/mind-val
    deps:
    - path: data/MINDlarge_dev.zip
      hash: md5
      md5: c93fa1728e3537649b441c78cce5e6f1
      size: 103456245
    - path: src/poprox_recommender/evaluation/generate/
      hash: md5
      md5: 6f2992f4d0d735b09cc17410e6bad6e1.dir
      size: 31876
      nfiles: 8
    outs:
    - path: outputs/mind-val/embeddings.parquet
      hash: md5
      md5: ddc034e1055655382f2ed463dd106438
      size: 20626649
    - path: outputs/mind-val/recommendations
      hash: md5
      md5: dcc2faa9ba51e8c0fa11a6ee66cdc58d.dir
      size: 44885945
      nfiles: 4
  recommend-mind-small:
    cmd: python -m poprox_recommender.evaluation.generate -M MINDsmall_dev -o outputs/mind-small
    deps:
    - path: data/MINDsmall_dev.zip
      hash: md5
      md5: e3bac5485be8fc7a9934e85e3b78615f
      size: 30948560
    - path: src/poprox_recommender/evaluation/generate/
      hash: md5
      md5: 6f2992f4d0d735b09cc17410e6bad6e1.dir
      size: 31876
      nfiles: 8
    outs:
    - path: outputs/mind-small/embeddings.parquet
      hash: md5
      md5: feb2065c0e5705a53e5580d4c1afa110
      size: 15964361
    - path: outputs/mind-small/recommendations
      hash: md5
      md5: 59625f0cf3c153efbd3de3e16d6f7339.dir
      size: 8942186
      nfiles: 4
  measure-mind-small:
    cmd: python -m poprox_recommender.evaluation.evaluate -M MINDsmall_dev mind-small
    deps:
    - path: data/MINDlarge_dev.zip
      hash: md5
      md5: c93fa1728e3537649b441c78cce5e6f1
      size: 103456245
    - path: outputs/mind-small/recommendations
      hash: md5
      md5: 59625f0cf3c153efbd3de3e16d6f7339.dir
      size: 8942186
      nfiles: 4
    - path: src/poprox_recommender/evaluation/evaluate.py
      hash: md5
      md5: 1fa966d8dbe31b297e098628e0e05812
      size: 4614
    outs:
    - path: outputs/mind-small/metrics.csv
      hash: md5
      md5: 381a3b93482c761e8f23cf90f11a6bfd
      size: 395
    - path: outputs/mind-small/profile-metrics.csv.gz
      hash: md5
      md5: 062c3cfddf19a0721da6c0c70a28e717
      size: 5473548
  recommend-mind-subset:
    cmd: python -m poprox_recommender.evaluation.generate -M MINDsmall_dev --subset=1000
      -o outputs/mind-subset
    deps:
    - path: data/MINDsmall_dev.zip
      hash: md5
      md5: e3bac5485be8fc7a9934e85e3b78615f
      size: 30948560
    - path: src/poprox_recommender/evaluation/generate/
      hash: md5
      md5: 6f2992f4d0d735b09cc17410e6bad6e1.dir
      size: 31876
      nfiles: 8
    outs:
    - path: outputs/mind-subset/embeddings.parquet
      hash: md5
      md5: 1d36ef9a4f83accdfa360d90d0bab921
      size: 5128682
    - path: outputs/mind-subset/recommendations
      hash: md5
      md5: 388d4b52e54c49448347431d9057b582.dir
      size: 151361
      nfiles: 4
  measure-mind-subset:
    cmd: python -m poprox_recommender.evaluation.evaluate -M MINDsmall_dev mind-subset
    deps:
    - path: data/MINDlarge_dev.zip
      hash: md5
      md5: c93fa1728e3537649b441c78cce5e6f1
      size: 103456245
    - path: outputs/mind-subset/recommendations
      hash: md5
      md5: 388d4b52e54c49448347431d9057b582.dir
      size: 151361
      nfiles: 4
    - path: src/poprox_recommender/evaluation/evaluate.py
      hash: md5
      md5: 1fa966d8dbe31b297e098628e0e05812
      size: 4614
    outs:
    - path: outputs/mind-subset/metrics.csv
      hash: md5
      md5: e6a704d6d8d76809aa699509ffb2d3c5
      size: 397
    - path: outputs/mind-subset/profile-metrics.csv.gz
      hash: md5
      md5: 5f591c1f86245f8a511358671125cc30
      size: 74959
