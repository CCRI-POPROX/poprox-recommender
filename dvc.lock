schema: '2.0'
stages:
  measure-mind-val:
    cmd: python -m poprox_recommender.evaluation.evaluate -M MINDlarge_dev mind-val
    deps:
    - path: data/MINDlarge_dev.zip
      hash: md5
      md5: c93fa1728e3537649b441c78cce5e6f1
      size: 103456245
    - path: outputs/mind-val/recommendations
      hash: md5
      md5: 7d1cad4d5fffb9e47e6abb62d2d27f16.dir
      size: 44878647
      nfiles: 8
    - path: src/poprox_recommender/evaluation/evaluate.py
      hash: md5
      md5: 63f8d61ecc6708c41f542eba397c0d59
      size: 4608
    outs:
    - path: outputs/mind-val/metrics.csv
      hash: md5
      md5: 4885ed026f007b16fb6a39c48f9a9e68
      size: 670
    - path: outputs/mind-val/profile-metrics.csv.gz
      hash: md5
      md5: 40e34937389500c9ce74cb3d93d215df
      size: 34000151
  recommend-mind-val:
    cmd: python -m poprox_recommender.evaluation.generate -M MINDlarge_dev -o outputs/mind-val
    deps:
    - path: data/MINDlarge_dev.zip
      hash: md5
      md5: c93fa1728e3537649b441c78cce5e6f1
      size: 103456245
    - path: src/poprox_recommender/evaluation/generate/
      hash: md5
      md5: 5a40f035067811292117bdb23065a02a.dir
      size: 31867
      nfiles: 8
    outs:
    - path: outputs/mind-val/embeddings.parquet
      hash: md5
      md5: 1de40da0c2aed9255997c20239c55f3f
      size: 20621749
    - path: outputs/mind-val/recommendations
      hash: md5
      md5: 7d1cad4d5fffb9e47e6abb62d2d27f16.dir
      size: 44878647
      nfiles: 8
  recommend-mind-small:
    cmd: python -m poprox_recommender.evaluation.generate -M MINDsmall_dev -o outputs/mind-small
    deps:
    - path: data/MINDsmall_dev.zip
      hash: md5
      md5: e3bac5485be8fc7a9934e85e3b78615f
      size: 30948560
    - path: src/poprox_recommender/evaluation/generate/
      hash: md5
      md5: 5a40f035067811292117bdb23065a02a.dir
      size: 31867
      nfiles: 8
    outs:
    - path: outputs/mind-small/embeddings.parquet
      hash: md5
      md5: 153c2f32568ac61f1c07b6cdb0f951ba
      size: 15967347
    - path: outputs/mind-small/recommendations
      hash: md5
      md5: e3268d2d750b0b5f3e6c5afa5ba13453.dir
      size: 9111609
      nfiles: 8
  measure-mind-small:
    cmd: python -m poprox_recommender.evaluation.evaluate -M MINDsmall_dev mind-small
    deps:
    - path: data/MINDlarge_dev.zip
      hash: md5
      md5: c93fa1728e3537649b441c78cce5e6f1
      size: 103456245
    - path: outputs/mind-small/recommendations
      hash: md5
      md5: e3268d2d750b0b5f3e6c5afa5ba13453.dir
      size: 9111609
      nfiles: 8
    - path: src/poprox_recommender/evaluation/evaluate.py
      hash: md5
      md5: 63f8d61ecc6708c41f542eba397c0d59
      size: 4608
    outs:
    - path: outputs/mind-small/metrics.csv
      hash: md5
      md5: 4823af1d567142b8f1d628f2f0961589
      size: 671
    - path: outputs/mind-small/profile-metrics.csv.gz
      hash: md5
      md5: e1ddec19dc5ff6cf886186524fbf1a4c
      size: 6606761
  recommend-mind-subset:
    cmd: python -m poprox_recommender.evaluation.generate -M MINDsmall_dev --subset=1000
      -o outputs/mind-subset
    deps:
    - path: data/MINDsmall_dev.zip
      hash: md5
      md5: e3bac5485be8fc7a9934e85e3b78615f
      size: 30948560
    - path: src/poprox_recommender/evaluation/generate/
      hash: md5
      md5: 5a40f035067811292117bdb23065a02a.dir
      size: 31867
      nfiles: 8
    outs:
    - path: outputs/mind-subset/embeddings.parquet
      hash: md5
      md5: bf5b727866ba25845198b5745d043d4f
      size: 5128758
    - path: outputs/mind-subset/recommendations
      hash: md5
      md5: c57e508e552b25f9ebc71e4a695b11ac.dir
      size: 230729
      nfiles: 8
  measure-mind-subset:
    cmd: python -m poprox_recommender.evaluation.evaluate -M MINDsmall_dev mind-subset
    deps:
    - path: data/MINDlarge_dev.zip
      hash: md5
      md5: c93fa1728e3537649b441c78cce5e6f1
      size: 103456245
    - path: outputs/mind-subset/recommendations
      hash: md5
      md5: c57e508e552b25f9ebc71e4a695b11ac.dir
      size: 230729
      nfiles: 8
    - path: src/poprox_recommender/evaluation/evaluate.py
      hash: md5
      md5: 63f8d61ecc6708c41f542eba397c0d59
      size: 4608
    outs:
    - path: outputs/mind-subset/metrics.csv
      hash: md5
      md5: cf0b1f2b4d185d4d479a2b5995ee40f6
      size: 673
    - path: outputs/mind-subset/profile-metrics.csv.gz
      hash: md5
      md5: 4a658459093af34e63ec8905f64b8146
      size: 90608
