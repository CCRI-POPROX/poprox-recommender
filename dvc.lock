schema: '2.0'
stages:
  measure-mind-val:
    cmd: python -m poprox_recommender.evaluation.evaluate -M MINDlarge_dev mind-val
    deps:
    - path: data/MINDlarge_dev.zip
      hash: md5
      md5: c93fa1728e3537649b441c78cce5e6f1
      size: 103456245
    - path: outputs/mind-val/recommendations
      hash: md5
      md5: a5f7397ce4c38060e42a02551f2bcb47.dir
      size: 44888273
      nfiles: 4
    - path: src/poprox_recommender/evaluation/evaluate.py
      hash: md5
      md5: 1fa966d8dbe31b297e098628e0e05812
      size: 4614
    outs:
    - path: outputs/mind-val/metrics.csv
      hash: md5
      md5: 50a3a65a930866c0bc468620217d8320
      size: 674
    - path: outputs/mind-val/profile-metrics.csv.gz
      hash: md5
      md5: 6c7b95588821fb2559f949d9b56b953c
      size: 34027013
  recommend-mind-val:
    cmd: python -m poprox_recommender.evaluation.generate -M MINDlarge_dev -o outputs/mind-val
    deps:
    - path: data/MINDlarge_dev.zip
      hash: md5
      md5: c93fa1728e3537649b441c78cce5e6f1
      size: 103456245
    - path: src/poprox_recommender/evaluation/generate/
      hash: md5
      md5: 6f2992f4d0d735b09cc17410e6bad6e1.dir
      size: 31876
      nfiles: 8
    outs:
    - path: outputs/mind-val/embeddings.parquet
      hash: md5
      md5: da71c58527af174d3b58cb858e1300b8
      size: 20620796
    - path: outputs/mind-val/recommendations
      hash: md5
      md5: a5f7397ce4c38060e42a02551f2bcb47.dir
      size: 44888273
      nfiles: 4
  recommend-mind-small:
    cmd: python -m poprox_recommender.evaluation.generate -M MINDsmall_dev -o outputs/mind-small
    deps:
    - path: data/MINDsmall_dev.zip
      hash: md5
      md5: e3bac5485be8fc7a9934e85e3b78615f
      size: 30948560
    - path: src/poprox_recommender/evaluation/generate/
      hash: md5
      md5: 6f2992f4d0d735b09cc17410e6bad6e1.dir
      size: 31876
      nfiles: 8
    outs:
    - path: outputs/mind-small/embeddings.parquet
      hash: md5
      md5: ee025fd68418ffc418edbb49113d4d4f
      size: 15964361
    - path: outputs/mind-small/recommendations
      hash: md5
      md5: f54bae3d2cd57caa7d3a9bc8351afd61.dir
      size: 8878494
      nfiles: 4
  measure-mind-small:
    cmd: python -m poprox_recommender.evaluation.evaluate -M MINDsmall_dev mind-small
    deps:
    - path: data/MINDlarge_dev.zip
      hash: md5
      md5: c93fa1728e3537649b441c78cce5e6f1
      size: 103456245
    - path: outputs/mind-small/recommendations
      hash: md5
      md5: f54bae3d2cd57caa7d3a9bc8351afd61.dir
      size: 8878494
      nfiles: 4
    - path: src/poprox_recommender/evaluation/evaluate.py
      hash: md5
      md5: 1fa966d8dbe31b297e098628e0e05812
      size: 4614
    outs:
    - path: outputs/mind-small/metrics.csv
      hash: md5
      md5: 5474ab1fb9453d78824e623636dc65c6
      size: 673
    - path: outputs/mind-small/profile-metrics.csv.gz
      hash: md5
      md5: 00b276998fd64237d27a26af0f14c462
      size: 6610776
  recommend-mind-subset:
    cmd: python -m poprox_recommender.evaluation.generate -M MINDsmall_dev --subset=1000
      -o outputs/mind-subset
    deps:
    - path: data/MINDsmall_dev.zip
      hash: md5
      md5: e3bac5485be8fc7a9934e85e3b78615f
      size: 30948560
    - path: src/poprox_recommender/evaluation/generate/
      hash: md5
      md5: 6f2992f4d0d735b09cc17410e6bad6e1.dir
      size: 31876
      nfiles: 8
    outs:
    - path: outputs/mind-subset/embeddings.parquet
      hash: md5
      md5: e6f3322836f72186d3730168ea980563
      size: 5128601
    - path: outputs/mind-subset/recommendations
      hash: md5
      md5: 28adc10a047a3baf74b145ef40f4bc93.dir
      size: 151634
      nfiles: 4
  measure-mind-subset:
    cmd: python -m poprox_recommender.evaluation.evaluate -M MINDsmall_dev mind-subset
    deps:
    - path: data/MINDlarge_dev.zip
      hash: md5
      md5: c93fa1728e3537649b441c78cce5e6f1
      size: 103456245
    - path: outputs/mind-subset/recommendations
      hash: md5
      md5: 28adc10a047a3baf74b145ef40f4bc93.dir
      size: 151634
      nfiles: 4
    - path: src/poprox_recommender/evaluation/evaluate.py
      hash: md5
      md5: 1fa966d8dbe31b297e098628e0e05812
      size: 4614
    outs:
    - path: outputs/mind-subset/metrics.csv
      hash: md5
      md5: 1a27df3220279344d9d685c3847dfd98
      size: 673
    - path: outputs/mind-subset/profile-metrics.csv.gz
      hash: md5
      md5: c26a89abe3caf41fa96ef9e50bb7f141
      size: 90902
