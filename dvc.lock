schema: '2.0'
stages:
  measure-mind-val:
    cmd: python -m poprox_recommender.evaluation.evaluate mind-val
    deps:
    - path: data/MINDlarge_dev.zip
      hash: md5
      md5: c93fa1728e3537649b441c78cce5e6f1
      size: 103456245
    - path: outputs/mind-val-recommendations.parquet
      hash: md5
      md5: 89894b06cf63b54cc216d10a301d8d8f
      size: 40956994
    - path: src/poprox_recommender/evaluation/evaluate.py
      hash: md5
      md5: b916b00cd76afbae3fbba63003aabe17
      size: 3840
    outs:
    - path: outputs/mind-val-metrics.csv
      hash: md5
      md5: 9ba1b471a5fc41d9c681ef34c19a975e
      size: 562
    - path: outputs/mind-val-user-metrics.csv.gz
      hash: md5
      md5: 8112f2a9715a67bdd03d3abdd6f65f41
      size: 26901064
  recommend-mind-val:
    cmd: python -m poprox_recommender.evaluation.generate -o outputs/mind-val-recommendations.parquet
    deps:
    - path: data/MINDlarge_dev.zip
      hash: md5
      md5: c93fa1728e3537649b441c78cce5e6f1
      size: 103456245
    - path: src/poprox_recommender/evaluation/generate.py
      hash: md5
      md5: add105354818a8dbee5e386ca8c52700
      size: 5164
    outs:
    - path: outputs/mind-val-recommendations.parquet
      hash: md5
      md5: 89894b06cf63b54cc216d10a301d8d8f
      size: 40956994
