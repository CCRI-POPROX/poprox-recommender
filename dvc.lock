schema: '2.0'
stages:
  measure-mind-val:
    cmd: python -m poprox_recommender.evaluation.evaluate -M MINDlarge_dev mind-val
    deps:
    - path: data/MINDlarge_dev.zip
      hash: md5
      md5: c93fa1728e3537649b441c78cce5e6f1
      size: 103456245
    - path: outputs/mind-val/recommendations
      hash: md5
      md5: 078616d75742c6e51fd305fa800a4256.dir
      size: 53936697
      nfiles: 8
    - path: src/poprox_recommender/evaluation/evaluate.py
      hash: md5
      md5: 0f27cab77b94b6d9f6e537237b65c1c1
      size: 4709
    outs:
    - path: outputs/mind-val/metrics.csv
      hash: md5
      md5: d0557b9aebd92db4382024d819e7677f
      size: 792
    - path: outputs/mind-val/profile-metrics.csv.gz
      hash: md5
      md5: 56bf323d7c4b425de06b1e5f198407c6
      size: 38160965
  recommend-mind-val:
    cmd: python -m poprox_recommender.evaluation.generate -M MINDlarge_dev -o outputs/mind-val
    deps:
    - path: data/MINDlarge_dev.zip
      hash: md5
      md5: c93fa1728e3537649b441c78cce5e6f1
      size: 103456245
    - path: src/poprox_recommender/evaluation/generate/
      hash: md5
      md5: 2aec6b075f317382b8158b18c3069e2b.dir
      size: 12883
      nfiles: 4
    outs:
    - path: outputs/mind-val/embeddings.parquet
      hash: md5
      md5: 135b9f8a86f7a683962a5c825258f45c
      size: 20623772
    - path: outputs/mind-val/recommendations
      hash: md5
      md5: 078616d75742c6e51fd305fa800a4256.dir
      size: 53936697
      nfiles: 8
  recommend-mind-small:
    cmd: python -m poprox_recommender.evaluation.generate -M MINDsmall_dev -o outputs/mind-small
    deps:
    - path: data/MINDsmall_dev.zip
      hash: md5
      md5: e3bac5485be8fc7a9934e85e3b78615f
      size: 30948560
    - path: src/poprox_recommender/evaluation/generate/
      hash: md5
      md5: 2aec6b075f317382b8158b18c3069e2b.dir
      size: 12883
      nfiles: 4
    outs:
    - path: outputs/mind-small/embeddings.parquet
      hash: md5
      md5: 0dc1acb5786a382909b6dca5405ec43d
      size: 15966363
    - path: outputs/mind-small/recommendations
      hash: md5
      md5: 5ec54600a0a90eea92cbe85ba8223202.dir
      size: 11222101
      nfiles: 8
  measure-mind-small:
    cmd: python -m poprox_recommender.evaluation.evaluate -M MINDsmall_dev mind-small
    deps:
    - path: data/MINDlarge_dev.zip
      hash: md5
      md5: c93fa1728e3537649b441c78cce5e6f1
      size: 103456245
    - path: outputs/mind-small/recommendations
      hash: md5
      md5: 5ec54600a0a90eea92cbe85ba8223202.dir
      size: 11222101
      nfiles: 8
    - path: src/poprox_recommender/evaluation/evaluate.py
      hash: md5
      md5: 0f27cab77b94b6d9f6e537237b65c1c1
      size: 4709
    outs:
    - path: outputs/mind-small/metrics.csv
      hash: md5
      md5: 7b215e5d3ecdceb455555e7522aaa1b9
      size: 784
    - path: outputs/mind-small/profile-metrics.csv.gz
      hash: md5
      md5: 0b926bd72dcf7678def8a9e7c64ae95c
      size: 7410624
  recommend-mind-subset:
    cmd: python -m poprox_recommender.evaluation.generate -M MINDsmall_dev --subset=1000
      -o outputs/mind-subset
    deps:
    - path: data/MINDsmall_dev.zip
      hash: md5
      md5: e3bac5485be8fc7a9934e85e3b78615f
      size: 30948560
    - path: src/poprox_recommender/evaluation/generate/
      hash: md5
      md5: 2aec6b075f317382b8158b18c3069e2b.dir
      size: 12883
      nfiles: 4
    outs:
    - path: outputs/mind-subset/embeddings.parquet
      hash: md5
      md5: a33d02a779c4eedf97cf76d4ce0c044a
      size: 5129216
    - path: outputs/mind-subset/recommendations
      hash: md5
      md5: 881faafc491ec37586c96590eec498b1.dir
      size: 264023
      nfiles: 8
  measure-mind-subset:
    cmd: python -m poprox_recommender.evaluation.evaluate -M MINDsmall_dev mind-subset
    deps:
    - path: data/MINDlarge_dev.zip
      hash: md5
      md5: c93fa1728e3537649b441c78cce5e6f1
      size: 103456245
    - path: outputs/mind-subset/recommendations
      hash: md5
      md5: 881faafc491ec37586c96590eec498b1.dir
      size: 264023
      nfiles: 8
    - path: src/poprox_recommender/evaluation/evaluate.py
      hash: md5
      md5: 0f27cab77b94b6d9f6e537237b65c1c1
      size: 4709
    outs:
    - path: outputs/mind-subset/metrics.csv
      hash: md5
      md5: 87f9c4b95f048266fc7b61339caabf68
      size: 795
    - path: outputs/mind-subset/profile-metrics.csv.gz
      hash: md5
      md5: ad2bdd0038ddbea83cbee4ab3c24619b
      size: 102205
